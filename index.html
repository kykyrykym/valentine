<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ ‚ú® –ü–ª–∞–≤–Ω–æ–µ —É–±–µ–≥–∞–Ω–∏–µ ‚ú®</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .container {
            text-align: center;
            background-color: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            padding: 40px;
            border-radius: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            width: 90%;
            border: 3px solid white;
            position: relative;
            z-index: 10;
            transition: opacity 0.5s ease;
        }

        .container.hidden {
            opacity: 0;
            pointer-events: none;
        }

        h1 {
            color: #d63c5e;
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(255,255,255,0.5);
        }

        .question {
            font-size: 2em;
            color: #b32e4a;
            margin-bottom: 40px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 20px;
            position: relative;
        }

        .btn {
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            font-weight: bold;
            padding: 15px 40px;
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border: 2px solid white;
            min-width: 150px;
            z-index: 20;
        }

        .btn-yes {
            background-color: #ff4d6d;
            color: white;
        }

        .btn-yes:hover {
            background-color: #ff3355;
            box-shadow: 0 0 20px #ff4d6d;
        }

        .btn-no {
            background-color: #6c757d;
            color: white;
            position: relative;
            transition: left 0.8s cubic-bezier(0.34, 1.56, 0.64, 1), top 0.8s cubic-bezier(0.34, 1.56, 0.64, 1), background-color 0.3s ease; /* –ü–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º "–ø—Ä—É–∂–∏–Ω–∫–∏" */
            will-change: left, top; /* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ */
            z-index: 100;
        }

        /* –°—Ç–∏–ª—å –¥–ª—è —É–±–µ–≥–∞—é—â–µ–π –∫–Ω–æ–ø–∫–∏ */
        .btn-no.fixed-mode {
            position: fixed;
            transition: left 0.8s cubic-bezier(0.34, 1.56, 0.64, 1), top 0.8s cubic-bezier(0.34, 1.56, 0.64, 1), background-color 0.3s ease;
        }

        /* –ó–∞–≥–ª—É—à–∫–∞, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –î–ê –Ω–µ –ø—Ä—ã–≥–∞–ª–∞ */
        .no-button-placeholder {
            display: inline-block;
            background-color: transparent;
            pointer-events: none;
        }

        /* –°—Ç–∏–ª—å –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∫–∏ */
        .valentine-card {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background-color: #fff0f3;
            padding: 40px;
            border-radius: 30px;
            border: 5px solid #ff4d6d;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            text-align: center;
            z-index: 200;
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            max-width: 80%;
            width: 500px;
        }

        .valentine-card.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .valentine-card h2 {
            color: #d63c5e;
            font-size: 2.5em;
            margin: 10px 0;
        }

        .valentine-card p {
            font-size: 1.5em;
            color: #b32e4a;
        }

        .valentine-card .hearts {
            font-size: 80px;
            margin: 20px 0;
            animation: heartbeat 1.5s ease infinite;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.3); }
            28% { transform: scale(1); }
            42% { transform: scale(1.3); }
            70% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="container" id="container">
        <h1>‚ù§Ô∏è–ö–∏—Ä—É—Å—å, —Å –î–Ω—ë–º –°–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞!‚ù§Ô∏è</h1>
        <div class="question" id="questionText">
            –¢—ã –ø—Ä–∏–º–µ—à—å –º–æ—é –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫—É?
        </div>

        <div class="buttons" id="buttonsContainer">
            <!-- –ö–Ω–æ–ø–∫–∞ –î–ê -->
            <button class="btn btn-yes" id="yesBtn">–ü—Ä–∏–Ω—è—Ç—å –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫—É</button>
            <!-- –ö–Ω–æ–ø–∫–∞ –ù–ï–¢ (—Å–Ω–∞—á–∞–ª–∞ —Ä—è–¥–æ–º —Å –î–ê) -->
            <button class="btn btn-no" id="noBtn">–ù–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å</button>
        </div>
    </div>

    <!-- –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ -->
    <div class="valentine-card" id="valentineCard">
        <h2>–Ø —Ç–µ–±—è –ª—é–±–ª—É –º–æ–π –∫–æ—Ç–µ–Ω–æ–∫! üò∫</h2>
        <p>–≠—Ç—É –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫—É —è —Å–¥–µ–ª–∞–ª –¥–ª—è —Ç–µ–±—è! üíã<p>
        <div class="hearts">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
        <p>–° –î–Ω—ë–º –°–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞!</p>
        <p style="font-size: 1.2em;">–¢—ã —Å–∞–º–æ–µ –¥–æ—Ä–æ–≥–æ–µ, —á—Ç–æ —É –º–µ–Ω—è –µ—Å—Ç—å! üíï</p>
    </div>

    <script>
        // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
        const yesButton = document.getElementById('yesBtn');
        const noButton = document.getElementById('noBtn');
        const container = document.getElementById('container');
        const buttonsContainer = document.getElementById('buttonsContainer');
        const valentineCard = document.getElementById('valentineCard');
        const questionElement = document.getElementById('questionText');

        // –°–æ—Å—Ç–æ—è–Ω–∏—è
        let isGameActive = true;
        let isNoButtonRunning = false;
        let noClickCount = 0;
        let placeholder = null; // –ó–∞–≥–ª—É—à–∫–∞

        // –ú–∞—Å—Å–∏–≤ —Ñ—Ä–∞–∑ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ù–µ—Ç"
        const noTexts = [
            "–ù–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å",
            "–ù–µ —Ö–æ—á—É!",
            "–ü–æ–¥—É–º–∞—é...",
            "–°–æ–º–Ω–∏—Ç–µ–ª—å–Ω–æ",
            "–õ–æ–≤–∏ –º–µ–Ω—è!",
            "–ù–µ –ø–æ–π–º–∞–µ—à—å",
            "–ù–ï–ï–ï–ï–¢!",
            "–î–æ–≥–æ–Ω—è–π!",
            "–°–¥–∞–≤–∞–π—Å—è!",
            "üíî",
            "–£–ø—Å, –º–∏–º–æ",
            "–ü–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–Ω—Å",
            "–ù–µ –¥–æ–≥–æ–Ω–∏—à—å!",
            "–í—Å—ë, —è —É–ø–ª—ã–ª!",
        ];

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Å —É—á—ë—Ç–æ–º —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–Ω–æ–ø–∫–∏
        function getRandomPosition() {
            const noBtnRect = noButton.getBoundingClientRect();
            const btnWidth = noBtnRect.width;
            const btnHeight = noBtnRect.height;

            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;

            // –û—Å—Ç–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø—ã –æ—Ç –∫—Ä–∞—ë–≤
            const maxX = windowWidth - btnWidth - 20;
            const maxY = windowHeight - btnHeight - 20;

            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
            const randomX = Math.max(10, Math.min(maxX, Math.random() * maxX));
            const randomY = Math.max(10, Math.min(maxY, Math.random() * maxY));

            return { x: randomX, y: randomY };
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ä–µ–∂–∏–º–∞ "—É–±–µ–≥–∞–Ω–∏—è" –∫–Ω–æ–ø–∫–∏ –ù–ï–¢
        function enableRunningMode() {
            if (isNoButtonRunning) return;
            
            isNoButtonRunning = true;
            
            // –ó–∞–ø–æ–º–∏–Ω–∞–µ–º —Ç–µ–∫—É—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫–Ω–æ–ø–∫–∏
            const rect = noButton.getBoundingClientRect();
            
            // –°–æ–∑–¥–∞—ë–º –∑–∞–≥–ª—É—à–∫—É
            placeholder = document.createElement('div');
            placeholder.className = 'no-button-placeholder';
            placeholder.style.width = rect.width + 'px';
            placeholder.style.height = rect.height + 'px';
            placeholder.style.display = 'inline-block';
            
            // –í—Å—Ç–∞–≤–ª—è–µ–º –∑–∞–≥–ª—É—à–∫—É –ø–µ—Ä–µ–¥ –∫–Ω–æ–ø–∫–æ–π (—á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª–æ–∂–µ–Ω–∏–µ)
            noButton.parentNode.insertBefore(placeholder, noButton);
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –≤ fixed-—Ä–µ–∂–∏–º
            noButton.classList.add('fixed-mode');
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é
            noButton.style.left = rect.left + 'px';
            noButton.style.top = rect.top + 'px';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ–º
            setTimeout(() => {
                if (isGameActive && isNoButtonRunning) {
                    moveNoButton();
                }
            }, 100);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ –ù–ï–¢
        function moveNoButton() {
            if (!isGameActive || !isNoButtonRunning) return;
            
            const position = getRandomPosition();
            
            // –ü–ª–∞–≤–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞–µ–º –∫–Ω–æ–ø–∫—É (transition –≤ CSS –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∫—Ä–∞—Å–∏–≤–æ)
            noButton.style.left = position.x + 'px';
            noButton.style.top = position.y + 'px';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à–æ–π —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
            noButton.style.backgroundColor = '#8d6e63'; // –ß—É—Ç—å —Å–≤–µ—Ç–ª–µ–µ
            setTimeout(() => {
                if (noButton) {
                    noButton.style.backgroundColor = ''; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π
                }
            }, 300);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏
        function acceptValentine() {
            if (!isGameActive) return;

            isGameActive = false;
            
            // –ü—Ä—è—á–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
            container.classList.add('hidden');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫—É
            valentineCard.classList.add('show');
            
            // –ü—Ä—è—á–µ–º –∫–Ω–æ–ø–∫—É –ù–ï–¢
            noButton.style.opacity = '0';
            noButton.style.pointerEvents = 'none';
            
            // –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–≥–ª—É—à–∫–∞, —Ç–æ–∂–µ –ø—Ä—è—á–µ–º
            if (placeholder) {
                placeholder.style.opacity = '0';
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫–∞–∑–∞ (–Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –ù–ï–¢)
        function rejectValentine() {
            if (!isGameActive) return;
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫
            noClickCount++;
            
            // –ú–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ –∫–Ω–æ–ø–∫–µ –ù–ï–¢
            if (noClickCount <= noTexts.length) {
                noButton.innerText = noTexts[noClickCount - 1];
            } else {
                noButton.innerText = "–ù—É –≤—Å—ë, —è —É–ø–ª—ã–ª! üòÖ";
            }
            
            // –ï—Å–ª–∏ –∫–Ω–æ–ø–∫–∞ –µ—â—ë –Ω–µ —É–±–µ–≥–∞–µ—Ç, –≤–∫–ª—é—á–∞–µ–º —Ä–µ–∂–∏–º —É–±–µ–≥–∞–Ω–∏—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è
            if (!isNoButtonRunning) {
                enableRunningMode();
            } else {
                // –ï—Å–ª–∏ —É–∂–µ —É–±–µ–≥–∞–µ—Ç, –ø—Ä–æ—Å—Ç–æ –ø–ª–∞–≤–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞–µ–º
                moveNoButton();
            }
            
            // –ü–ª–∞–≤–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –î–ê
            yesButton.style.transform = 'scale(1.1)';
            yesButton.style.transition = 'transform 0.3s ease';
            setTimeout(() => {
                yesButton.style.transform = 'scale(1)';
            }, 300);
            
            // –ú–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ —Å —é–º–æ—Ä–æ–º
            if (noClickCount === 3) {
                questionElement.innerText = '–ê —Ç—ã —É–ø—Ä—è–º—ã–π(–∞—è)! üòÑ';
                questionElement.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    questionElement.style.transform = 'scale(1)';
                }, 300);
            } else if (noClickCount === 7) {
                questionElement.innerText = '–ú–æ–∂–µ—Ç —Ö–≤–∞—Ç–∏—Ç —É–±–µ–≥–∞—Ç—å? –ñ–º–∏ "–ü—Ä–∏–Ω—è—Ç—å"! üèÉ‚Äç‚ôÄÔ∏è';
            } else if (noClickCount === 12) {
                questionElement.innerText = '–Ø –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–æ–∂–¥—É—Å—å ‚ù§Ô∏è';
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É –ù–ï–¢
        function handleNoButtonHover() {
            if (!isGameActive || !isNoButtonRunning) return;
            
            // –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∫–Ω–æ–ø–∫–∞ –ø–ª–∞–≤–Ω–æ —É–ª–µ—Ç–∞–µ—Ç
            moveNoButton();
            
            // –ò–Ω–æ–≥–¥–∞ –º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
            if (Math.random() > 0.6) { // 40% —à–∞–Ω—Å
                const randomIndex = Math.floor(Math.random() * noTexts.length);
                noButton.innerText = noTexts[randomIndex];
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è –º—ã—à–∏ (–¥–ª—è –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —É–±–µ–≥–∞–Ω–∏—è)
        function handleMouseMove(e) {
            if (!isGameActive || !isNoButtonRunning) return;
            
            // –ï—Å–ª–∏ –∫—É—Ä—Å–æ—Ä –±–ª–∏–∑–∫–æ –∫ –∫–Ω–æ–ø–∫–µ (–º–µ–Ω–µ–µ 200px), –æ–Ω–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç —É–ø–ª—ã–≤–∞—Ç—å
            const rect = noButton.getBoundingClientRect();
            const buttonCenterX = rect.left + rect.width / 2;
            const buttonCenterY = rect.top + rect.height / 2;
            
            const distance = Math.sqrt(
                Math.pow(e.clientX - buttonCenterX, 2) + 
                Math.pow(e.clientY - buttonCenterY, 2)
            );
            
            if (distance < 200) {
                // –ß–µ–º –±–ª–∏–∂–µ –∫—É—Ä—Å–æ—Ä, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ —Ä–µ–∞–∫—Ü–∏—è (–Ω–æ —É –Ω–∞—Å –ø–ª–∞–≤–Ω—ã–π transition)
                moveNoButton();
            }
        }

        // –í–µ—à–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
        yesButton.addEventListener('click', acceptValentine);
        noButton.addEventListener('click', rejectValentine);
        noButton.addEventListener('mouseenter', handleNoButtonHover);
        
        // –°–ª–µ–¥–∏–º –∑–∞ –¥–≤–∏–∂–µ–Ω–∏–µ–º –º—ã—à–∏ –¥–ª—è –±–æ–ª–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —É–±–µ–≥–∞–Ω–∏—è
        document.addEventListener('mousemove', handleMouseMove);

        // –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –ø–æ–∑–∏—Ü–∏—é
        window.addEventListener('resize', () => {
            if (isGameActive && isNoButtonRunning) {
                moveNoButton();
            }
        });

        // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ –Ω–µ —É—à–ª–∞ –∑–∞ –∫—Ä–∞–π
        setInterval(() => {
            if (isGameActive && isNoButtonRunning) {
                const rect = noButton.getBoundingClientRect();
                if (rect.right > window.innerWidth || rect.bottom > window.innerHeight || rect.left < 0 || rect.top < 0) {
                    moveNoButton();
                }
            }
        }, 1000);

        // –ù–µ–±–æ–ª—å—à–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            // –ü—Ä–æ—Å—Ç–æ –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã
            setTimeout(() => {
                questionElement.style.transform = 'scale(1.02)';
                setTimeout(() => {
                    questionElement.style.transform = 'scale(1)';
                }, 300);
            }, 500);
        });
    </script>
</body>
</html>